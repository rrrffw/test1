(this["webpackJsonpkitty-items-web"]=this["webpackJsonpkitty-items-web"]||[]).push([[0],{136:function(e,t){},138:function(e,t){},152:function(e,t,n){var r={"./item01.svg":[158,4],"./item02.svg":[159,5],"./item03.svg":[160,6],"./item04.svg":[161,7],"./item05.svg":[162,8],"./item06.svg":[163,9],"./item07.svg":[164,10],"./item08.svg":[165,11]};function c(e){if(!n.o(r,e))return Promise.resolve().then((function(){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}));var t=r[e],c=t[0];return n.e(t[1]).then((function(){return n(c)}))}c.keys=function(){return Object.keys(r)},c.id=152,e.exports=c},153:function(e,t,n){},154:function(e,t,n){"use strict";n.r(t);var r=n(0),c=n.n(r),a=n(68),s=n.n(a),i=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,194)).then((function(t){var n=t.getCLS,r=t.getFID,c=t.getFCP,a=t.getLCP,s=t.getTTFB;n(e),r(e),c(e),a(e),s(e)}))},o=n(26),u=n(10),l=n(48),d=n(188),b=n(173),f=Object(b.a)({fonts:{body:"'Montserrat', sans-serif",heading:"'Montserrat', sans-serif"},colors:{}}),j=n(1);function O(e){var t=e.children;return Object(j.jsx)(c.a.StrictMode,{children:Object(j.jsx)(u.a,{children:Object(j.jsx)(d.a,{theme:f,children:Object(j.jsx)(l.a,{children:t})})})})}var p=n(3),m=function(e){var t=e.children;return Object(j.jsx)("div",{children:t})},h=n(4),x=Object(u.b)({key:"CURRENT_USER",default:{addr:null,loggedIn:null,cid:null}}),g={logIn:h.logIn,logOut:h.unauthenticate,signUp:h.signUp,changeUser:h.reauthenticate};function y(){var e=Object(u.e)(x),t=Object(p.a)(e,2),n=t[0],c=t[1];return Object(r.useEffect)((function(){return h.currentUser().subscribe(c)}),[c]),[n,null!=n.addr,g]}var S=n(174),I=n(175),v=n(176),k=n(192),F=n(191),w=n(177),T=n(178),D=n(190),C=n.p+"static/media/logo-kv.ee8839ea.svg";var N="LOADING",P="IDLE",U="PROCESSING";var K=n(118),A=function(e){return fetch(e).then((function(e){return e.json()}))};var z=Object(u.b)({key:"market-items::state",default:[]}),R=Object(u.b)({key:"market-items::status",default:P});function E(){var e=Object(u.e)(R),t=Object(p.a)(e,2),n=t[0],r=t[1],c=Object(u.e)(z),a=Object(p.a)(c,2),s=a[0],i=a[1];Object(K.a)("/v1/market/latest",A,{initialData:s,refreshInterval:10,onLoadingSlow:function(){r(N)},onSuccess:function(e){var t=e.latestSaleOffers;i(t.map((function(e){return function(e){return Object.assign({},{itemID:e.sale_item_id,resourceID:e.sale_item_resource_id,typeID:e.sale_item_type,owner:e.sale_item_owner,price:e.sale_price,txID:e.transaction_id})}(e)}))),r(P)},onError:function(e){console.log("Failed to fetch market items.",e)}});var o=new Map(s.map((function(e){return[e.itemID,e]})));return{status:n,items:s,has:function(e){return o.has(e.itemID)},findSaleOffer:function(e){var t=o.get(e);if(t)return t.resourceID}}}var B,M=n(5),V=n.n(M),_=n(8),L=n(27),W=n(17),q=h.cdc(B||(B=Object(L.a)(["\n  import NonFungibleToken from 0xNonFungibleToken\n  import KittyItems from 0xKittyItems\n\n  pub fun main(address: Address): [UInt64] {\n    if let collection =  getAccount(address).getCapability<&KittyItems.Collection{NonFungibleToken.CollectionPublic, KittyItems.KittyItemsCollectionPublic}>(KittyItems.CollectionPublicPath).borrow() {\n      return collection.getIDs()\n    }\n\n    return []\n  }\n"])));function Y(e){return null==e?Promise.resolve([]):h.send([h.script(q),h.args([h.arg(e,W.Address)])]).then(h.decode).then((function(e){return e.sort((function(e,t){return e-t}))}))}var J=Object(u.c)({key:"account-items::state",default:Object(u.d)({key:"account-items::default",get:function(e){return Object(_.a)(V.a.mark((function t(){return V.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",Y(e));case 1:case"end":return t.stop()}}),t)})))}})}),G=Object(u.c)({key:"account-items::status",default:P});function X(e){var t=Object(u.e)(J(e)),n=Object(p.a)(t,2),r=n[0],c=n[1],a=Object(u.e)(G(e)),s=Object(p.a)(a,2),i=s[0],o=s[1];return{ids:r,status:i,mint:function(){return Object(_.a)(V.a.mark((function t(){return V.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return o(U),t.next=3,fetch("/v1/kitty-items/mint",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({recipient:e,typeID:Math.floor(4*Math.random())+1})});case 3:return t.next=5,Y(e).then(c);case 5:o(P);case 6:case"end":return t.stop()}}),t)})))()},refresh:function(){return Object(_.a)(V.a.mark((function t(){return V.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return o(U),t.next=3,Y(e).then(c);case 3:o(P);case 4:case"end":return t.stop()}}),t)})))()}}}var $,H=n(9),Q=Object(h.cdc)($||($=Object(L.a)(['\n  import FungibleToken from 0xFungibleToken\n  import NonFungibleToken from 0xNonFungibleToken\n  import FUSD from 0xFUSD\n  import KittyItems from 0xKittyItems\n  import NFTStorefront from 0xNFTStorefront\n\n  pub fun hasFUSD(_ address: Address): Bool {\n    let receiver: Bool = getAccount(address)\n      .getCapability<&FUSD.Vault{FungibleToken.Receiver}>(/public/fusdReceiver)\n      .check()\n\n    let balance: Bool = getAccount(address)\n      .getCapability<&FUSD.Vault{FungibleToken.Balance}>(/public/fusdBalance)\n      .check()\n\n    return receiver && balance\n  }\n\n  pub fun hasItems(_ address: Address): Bool {\n    return getAccount(address)\n      .getCapability<&KittyItems.Collection{NonFungibleToken.CollectionPublic, KittyItems.KittyItemsCollectionPublic}>(KittyItems.CollectionPublicPath)\n      .check()\n  }\n\n  pub fun hasStorefront(_ address: Address): Bool {\n    return getAccount(address)\n      .getCapability<&NFTStorefront.Storefront{NFTStorefront.StorefrontPublic}>(NFTStorefront.StorefrontPublicPath)\n      .check()\n  }\n\n  pub fun main(address: Address): {String: Bool} {\n    let ret: {String: Bool} = {}\n    ret["FUSD"] = hasFUSD(address)\n    ret["KittyItems"] = hasItems(address)\n    ret["KittyItemsMarket"] = hasStorefront(address)\n    return ret\n  }\n'])));function Z(e){return null==e?Promise.resolve(!1):Object(h.send)([Object(h.script)(Q),Object(h.args)([Object(h.arg)(e,W.Address)])]).then(h.decode)}var ee,te=n(19),ne=function(){var e=Object(_.a)(V.a.mark((function e(){return V.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();function re(){return ce.apply(this,arguments)}function ce(){return(ce=Object(_.a)(V.a.mark((function e(){var t,n,r,c,a,s,i,o,u,l,d,b=arguments;return V.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=b.length>0&&void 0!==b[0]?b[0]:[],n=b.length>1&&void 0!==b[1]?b[1]:{},r=n.onStart||ne,c=n.onSubmission||ne,a=n.onUpdate||ne,s=n.onSuccess||ne,i=n.onError||ne,o=n.onComplete||ne,e.prev=8,r(),e.next=12,h.send(t).then(h.decode);case 12:return u=e.sent,e.t0=console,e.t1="%cTX[".concat(u,"]: "),e.t2=ae,e.next=18,h.config().get("env");case 18:return e.t3=e.sent,e.t4=u,e.t5=(0,e.t2)(e.t3,e.t4),e.t6=e.t1.concat.call(e.t1,e.t5),e.t0.info.call(e.t0,e.t6,"color:purple;font-weight:bold;font-family:monospace;"),c(u),e.next=26,h.tx(u).subscribe(a);case 26:return l=e.sent,e.next=29,h.tx(u).onceSealed();case 29:return d=e.sent,l(),e.t7=console,e.t8="%cTX[".concat(u,"]: "),e.t9=ae,e.next=36,h.config().get("env");case 36:return e.t10=e.sent,e.t11=u,e.t12=(0,e.t9)(e.t10,e.t11),e.t13=e.t8.concat.call(e.t8,e.t12),e.t7.info.call(e.t7,e.t13,"color:green;font-weight:bold;font-family:monospace;"),e.next=43,s(d);case 43:return e.abrupt("return",d);case 46:return e.prev=46,e.t14=e.catch(8),e.t15=console,e.t16="TX[".concat(u,"]: "),e.t17=ae,e.next=53,h.config().get("env");case 53:e.t18=e.sent,e.t19=u,e.t20=(0,e.t17)(e.t18,e.t19),e.t21=e.t16.concat.call(e.t16,e.t20),e.t22=e.t14,e.t15.error.call(e.t15,e.t21,e.t22),i(e.t14);case 60:return e.prev=60,e.next=63,o();case 63:return e.finish(60);case 64:case"end":return e.stop()}}),e,null,[[8,46,60,64]])})))).apply(this,arguments)}function ae(e,t){return"https://flow-view-source.com/".concat(e,"/tx/").concat(t)}var se,ie=Object(h.cdc)(ee||(ee=Object(L.a)(["\n  import FungibleToken from 0xFungibleToken\n  import NonFungibleToken from 0xNonFungibleToken\n  import FUSD from 0xFUSD\n  import KittyItems from 0xKittyItems\n  import NFTStorefront from 0xNFTStorefront\n\n  pub fun hasFUSD(_ address: Address): Bool {\n    let receiver = getAccount(address)\n      .getCapability<&FUSD.Vault{FungibleToken.Receiver}>(/public/fusdReceiver)\n      .check()\n\n    let balance = getAccount(address)\n      .getCapability<&FUSD.Vault{FungibleToken.Balance}>(/public/fusdBalance)\n      .check()\n\n    return receiver && balance\n  }\n\n  pub fun hasItems(_ address: Address): Bool {\n    return getAccount(address)\n      .getCapability<&KittyItems.Collection{NonFungibleToken.CollectionPublic, KittyItems.KittyItemsCollectionPublic}>(KittyItems.CollectionPublicPath)\n      .check()\n  }\n\n  pub fun hasStorefront(_ address: Address): Bool {\n    return getAccount(address)\n      .getCapability<&NFTStorefront.Storefront{NFTStorefront.StorefrontPublic}>(NFTStorefront.StorefrontPublicPath)\n      .check()\n  }\n\n  transaction {\n    prepare(acct: AuthAccount) {\n      if !hasFUSD(acct.address) {\n        if acct.borrow<&FUSD.Vault>(from: /storage/fusdVault) == nil {\n          acct.save(<-FUSD.createEmptyVault(), to: /storage/fusdVault)\n        }\n        acct.unlink(/public/fusdReceiver)\n        acct.unlink(/public/fusdBalance)\n        acct.link<&FUSD.Vault{FungibleToken.Receiver}>(/public/fusdReceiver, target: /storage/fusdVault)\n        acct.link<&FUSD.Vault{FungibleToken.Balance}>(/public/fusdBalance, target: /storage/fusdVault)\n      }\n\n      if !hasItems(acct.address) {\n        if acct.borrow<&KittyItems.Collection>(from: KittyItems.CollectionStoragePath) == nil {\n          acct.save(<-KittyItems.createEmptyCollection(), to: KittyItems.CollectionStoragePath)\n        }\n        acct.unlink(KittyItems.CollectionPublicPath)\n        acct.link<&KittyItems.Collection{NonFungibleToken.CollectionPublic, KittyItems.KittyItemsCollectionPublic}>(KittyItems.CollectionPublicPath, target: KittyItems.CollectionStoragePath)\n      }\n\n      if !hasStorefront(acct.address) {\n        if acct.borrow<&NFTStorefront.Storefront>(from: NFTStorefront.StorefrontStoragePath) == nil {\n          acct.save(<-NFTStorefront.createStorefront(), to: NFTStorefront.StorefrontStoragePath)\n        }\n        acct.unlink(NFTStorefront.StorefrontPublicPath)\n        acct.link<&NFTStorefront.Storefront{NFTStorefront.StorefrontPublic}>(NFTStorefront.StorefrontPublicPath, target: NFTStorefront.StorefrontStoragePath)\n      }\n    }\n  }\n"])));function oe(e){return ue.apply(this,arguments)}function ue(){return(ue=Object(_.a)(V.a.mark((function e(t){var n,r=arguments;return V.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=r.length>1&&void 0!==r[1]?r[1]:{},Object(te.a)(null!=t,"Tried to initialize an account but no address was supplied"),e.abrupt("return",re([Object(h.transaction)(ie),Object(h.limit)(70),Object(h.proposer)(h.authz),Object(h.payer)(h.authz),Object(h.authorizations)([h.authz])],n));case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function le(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:500;return new Promise((function(t){setTimeout(t,e)}))}var de=Object(h.cdc)(se||(se=Object(L.a)(["\n  import FungibleToken from 0xFungibleToken\n\n  pub fun main(addr: Address): UFix64 {\n    return getAccount(addr)\n      .getCapability<&{FungibleToken.Balance}>(/public/fusdBalance)\n      .borrow()?.balance ?? 0.0\n  }\n\n"])));function be(e){return null==e?Promise.resolve(!1):Object(h.send)([Object(h.script)(de),Object(h.args)([Object(h.arg)(e,W.Address)])]).then(h.decode)}var fe=Object(u.c)({key:"fusd-balance::state",default:Object(u.d)({key:"fusd-balance::default",get:function(e){return Object(_.a)(V.a.mark((function t(){return V.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",be(e));case 1:case"end":return t.stop()}}),t)})))}})}),je=Object(u.c)({key:"fusd-balance::status",default:P});function Oe(e){var t=Object(u.e)(fe(e)),n=Object(p.a)(t,2),r=n[0],c=n[1],a=Object(u.e)(je(e)),s=Object(p.a)(a,2),i=s[0],o=s[1];function l(){return(l=Object(_.a)(V.a.mark((function t(){return V.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return o(U),t.next=3,be(e).then(c);case 3:o(P);case 4:case"end":return t.stop()}}),t)})))).apply(this,arguments)}return{balance:r,status:i,refresh:function(){return l.apply(this,arguments)},mint:function(){return Object(_.a)(V.a.mark((function t(){return V.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return o(U),t.next=3,fetch("/v1/fusd/mint",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({recipient:e,amount:50})});case 3:return t.next=5,be(e).then(c);case 5:o(P);case 6:case"end":return t.stop()}}),t)})))()}}}var pe=Object(u.c)({key:"init::status",default:P}),me=Object(u.c)({key:"init::state",default:Object(u.d)({key:"init::default",get:function(e){return function(){return Z(e)}}})}),he=Object(u.d)({key:"init::computed",get:function(e){return function(){var t=Object(_.a)(V.a.mark((function t(n){var r,c;return V.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=n.get,c=r(me(e)),t.abrupt("return",c.FUSD&&c.KittyItems&&c.KittyItemsMarket);case 3:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()}});function xe(e){var t=Object(u.e)(me(e)),n=Object(p.a)(t,2),r=n[0],c=n[1],a=Object(u.f)(he(e)),s=Object(u.e)(pe(e)),i=Object(p.a)(s,2),o=i[0],l=i[1],d=Oe(e);function b(){Z(e).then(c)}return Object(H.a)(Object(H.a)({},r),{},{isInitialized:a,status:null==a?N:o,recheck:b,initialize:function(){return Object(_.a)(V.a.mark((function t(){return V.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:oe(e,{onStart:function(){l(U)},onSuccess:function(){return Object(_.a)(V.a.mark((function e(){return V.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:b(),d.refresh(),l("SUCCESS");case 3:case"end":return e.stop()}}),e)})))()},onError:function(){l("ERROR")},onComplete:function(){return Object(_.a)(V.a.mark((function e(){return V.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,le(1e3);case 2:l(P);case 3:case"end":return e.stop()}}),e)})))()}});case 1:case"end":return t.stop()}}),t)})))()}})}var ge=n(179),ye=n(180);function Se(){var e=y(),t=Object(p.a)(e,3),n=t[0],r=t[1],c=t[2],a=c.signUp,s=c.logIn,i=c.logOut;return r?Object(j.jsx)(S.a,{mb:"4",children:Object(j.jsxs)(I.a,{children:[Object(j.jsxs)(k.a,{children:[Object(j.jsx)(F.a,{src:C}),Object(j.jsx)(w.a,{size:"lg",children:"Kitty Items"})]}),Object(j.jsx)(T.a,{}),Object(j.jsx)(v.a,{children:Object(j.jsx)(ge.a,{as:l.b,mr:"4",to:"/"+n.addr,children:n.addr})}),Object(j.jsx)(S.a,{children:Object(j.jsx)(D.a,{mr:"4",colorScheme:"blue",onClick:i,children:"Log Out"})})]})}):Object(j.jsxs)(S.a,{children:[Object(j.jsxs)(I.a,{children:[Object(j.jsx)(S.a,{p:"2",children:Object(j.jsxs)(k.a,{children:[Object(j.jsx)(F.a,{src:C}),Object(j.jsx)(w.a,{size:"lg",children:"Kitty Items"})]})}),Object(j.jsx)(T.a,{}),Object(j.jsxs)(S.a,{children:[Object(j.jsx)(D.a,{mr:"4",colorScheme:"blue",onClick:s,children:"Log In"}),Object(j.jsx)(D.a,{mr:"4",colorScheme:"blue",onClick:a,children:"Sign Up"})]})]}),Object(j.jsx)(ye.a,{mb:"4"})]})}function Ie(){return Object(j.jsx)(r.Suspense,{fallback:Object(j.jsx)("div",{children:"Loading..."}),children:Object(j.jsx)(Se,{})})}var ve=n(189),ke=n(183),Fe=n(181),we=n(182),Te=function(e){return e?Object(j.jsx)(Fe.a,{color:"green.500"}):Object(j.jsx)(we.a,{color:"red.500"})};function De(e){var t=e.address,n=xe(t),r=y(),c=Object(p.a)(r,1)[0];return null==t?null:Object(j.jsxs)(S.a,{mb:"4",children:[Object(j.jsx)(S.a,{mb:"2",children:Object(j.jsxs)(I.a,{children:[Object(j.jsx)(w.a,{size:"md",mr:"4",children:"Account Initialized?"}),n.status!==P&&Object(j.jsx)(v.a,{children:Object(j.jsx)(ve.a,{})})]})}),Object(j.jsx)(S.a,{maxW:"200px",borderWidth:"1px",borderRadius:"lg",children:Object(j.jsx)(ke.a,{size:"sm",children:Object(j.jsxs)(ke.b,{children:[Object(j.jsxs)(ke.f,{children:[Object(j.jsx)(ke.c,{children:"FUSD"}),Object(j.jsx)(ke.c,{children:Te(n.FUSD)})]}),Object(j.jsxs)(ke.f,{children:[Object(j.jsx)(ke.c,{children:"Kitty Items"}),Object(j.jsx)(ke.c,{children:Te(n.KittyItems)})]}),Object(j.jsxs)(ke.f,{children:[Object(j.jsx)(ke.c,{children:"Kitty Items Market"}),Object(j.jsx)(ke.c,{children:Te(n.KittyItemsMarket)})]})]})})}),!n.isInitialized&&t===c.addr&&Object(j.jsx)(S.a,{mt:"2",children:Object(j.jsx)(I.a,{children:Object(j.jsx)(D.a,{colorScheme:"blue",disabled:n.status!==P,onClick:n.initialize,children:"Initialize Account"})})})]})}function Ce(e){var t=y();return Object(p.a)(t,1)[0].addr!==e.address?null:Object(j.jsx)(r.Suspense,{fallback:Object(j.jsx)(S.a,{mb:"2",children:Object(j.jsxs)(I.a,{children:[Object(j.jsx)(w.a,{size:"md",mr:"4",children:"Account Initialized?"}),Object(j.jsx)(v.a,{children:Object(j.jsx)(ve.a,{size:"sm"})})]})}),children:Object(j.jsx)(De,Object(H.a)({},e))})}function Ne(e){return null==e?Promise.resolve(null):h.account(e).then((function(e){return e.balance}))}var Pe=Object(u.c)({key:"flow-balance::state",default:Object(u.d)({key:"flow-balance::default",get:function(e){return Object(_.a)(V.a.mark((function t(){return V.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",Ne(e));case 1:case"end":return t.stop()}}),t)})))}})}),Ue=Object(u.c)({key:"flow-balance::status",default:P});function Ke(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return null==e?null:[String(e).replace(/0+$/,"").replace(/\.$/,""),t&&"FUSD"].filter(Boolean).join(" ")}function Ae(e){var t=e.address,n=function(e){var t=Object(u.e)(Pe(e)),n=Object(p.a)(t,2),r=n[0],c=n[1],a=Object(u.e)(Ue(e)),s=Object(p.a)(a,2),i=s[0],o=s[1];return{balance:r,status:i,refresh:function(){return Object(_.a)(V.a.mark((function t(){return V.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return o(U),t.next=3,Ne(e).then(c);case 3:o(P);case 4:case"end":return t.stop()}}),t)})))()}}}(t),c=Oe(t),a=xe(t),s=function(e,t){var n=Object(r.useState)(null),c=Object(p.a)(n,2),a=c[0],s=c[1];return Object(r.useEffect)((function(){Object(h.config)().get(e,t).then(s)}),[e,t]),a}("faucet");return Object(j.jsxs)(S.a,{mb:"4",children:[Object(j.jsx)(S.a,{mb:"2",children:Object(j.jsxs)(I.a,{children:[Object(j.jsx)(w.a,{size:"md",mr:"4",children:"Balances"}),(n.status!==P||c.status!==P)&&Object(j.jsx)(v.a,{children:Object(j.jsx)(ve.a,{size:"sm"})})]})}),Object(j.jsx)(S.a,{maxW:"200px",borderWidth:"1px",borderRadius:"lg",children:Object(j.jsx)(ke.a,{size:"sm",children:Object(j.jsx)(ke.b,{children:Object(j.jsxs)(ke.f,{children:[Object(j.jsx)(ke.c,{children:"FUSD"}),c.status===P?Object(j.jsx)(ke.c,{isNumeric:!0,children:Ke(c.balance)}):Object(j.jsx)(ke.c,{isNumeric:!0,children:Object(j.jsx)(ve.a,{size:"sm"})})]})})})}),Object(j.jsx)(S.a,{mt:"2",children:Object(j.jsx)(I.a,{children:Object(j.jsx)(D.a,{colorScheme:"blue",disabled:c.status!==P||!a.isInitialized,onClick:function(){return s?void window.open(s):c.mint()},children:"Request FUSD"})})})]})}function ze(e){var t=y();return Object(p.a)(t,1)[0].addr!==e.address?null:Object(j.jsx)(r.Suspense,{fallback:Object(j.jsxs)(I.a,{children:[Object(j.jsx)(w.a,{size:"md",mr:"4",children:"Balances"}),Object(j.jsx)(v.a,{children:Object(j.jsx)(ve.a,{size:"sm"})})]}),children:Object(j.jsx)(Ae,Object(H.a)({},e))})}var Re,Ee,Be=n(20);function Me(e,t){return Ve.apply(this,arguments)}function Ve(){return(Ve=Object(_.a)(V.a.mark((function e(t,n){return V.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",h.send([h.script(Re||(Re=Object(L.a)(["\n        import NFTStorefront from 0xNFTStorefront\n        import KittyItems from 0xKittyItems\n        import NonFungibleToken from 0xNonFungibleToken\n\n        pub struct SaleItem {\n          pub let itemID: UInt64\n          pub let typeID: UInt64\n          pub let owner: Address\n          pub let price: UFix64\n\n          init(itemID: UInt64, typeID: UInt64, owner: Address, price: UFix64) {\n            self.itemID = itemID\n            self.typeID = typeID\n            self.owner = owner\n            self.price = price\n          }\n        }\n\n        pub fun main(address: Address, saleOfferResourceID: UInt64): SaleItem? {\n          let account = getAccount(address)\n\n          if let storefrontRef = account.getCapability<&NFTStorefront.Storefront{NFTStorefront.StorefrontPublic}>(NFTStorefront.StorefrontPublicPath).borrow() {\n            if let saleOffer = storefrontRef.borrowSaleOffer(saleOfferResourceID: saleOfferResourceID) {\n              let details = saleOffer.getDetails()\n\n              let itemID = details.nftID\n              let itemPrice = details.salePrice\n\n              if let collection = account.getCapability<&KittyItems.Collection{NonFungibleToken.CollectionPublic, KittyItems.KittyItemsCollectionPublic}>(KittyItems.CollectionPublicPath).borrow() {\n                if let item = collection.borrowKittyItem(id: itemID) {\n                  return SaleItem(itemID: itemID, typeID: item.typeID, owner: address, price: itemPrice)\n                }\n              }\n            }\n          }\n            \n          return nil\n        }\n    "]))),h.args([h.arg(t,W.Address),h.arg(Number(n),W.UInt64)])]).then(h.decode));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var _e,Le=h.cdc(Ee||(Ee=Object(L.a)(['\n  import FungibleToken from 0xFungibleToken\n  import NonFungibleToken from 0xNonFungibleToken\n  import FUSD from 0xFUSD\n  import KittyItems from 0xKittyItems\n  import NFTStorefront from 0xNFTStorefront\n\n  transaction(saleOfferResourceID: UInt64, storefrontAddress: Address) {\n\n    let paymentVault: @FungibleToken.Vault\n    let kittyItemsCollection: &KittyItems.Collection{NonFungibleToken.Receiver}\n    let storefront: &NFTStorefront.Storefront{NFTStorefront.StorefrontPublic}\n    let saleOffer: &NFTStorefront.SaleOffer{NFTStorefront.SaleOfferPublic}\n\n    prepare(account: AuthAccount) {\n      self.storefront = getAccount(storefrontAddress)\n        .getCapability<&NFTStorefront.Storefront{NFTStorefront.StorefrontPublic}>(\n          NFTStorefront.StorefrontPublicPath\n        )!\n        .borrow()\n        ?? panic("Could not borrow Storefront from provided address")\n\n      self.saleOffer = self.storefront.borrowSaleOffer(saleOfferResourceID: saleOfferResourceID)\n        ?? panic("No Offer with that ID in Storefront")\n      \n      let price = self.saleOffer.getDetails().salePrice\n\n      let mainFUSDVault = account.borrow<&FUSD.Vault>(from: /storage/fusdVault)\n        ?? panic("Cannot borrow Kibble vault from account storage")\n      \n      self.paymentVault <- mainFUSDVault.withdraw(amount: price)\n\n      self.kittyItemsCollection = account.borrow<&KittyItems.Collection{NonFungibleToken.Receiver}>(\n        from: KittyItems.CollectionStoragePath\n      ) ?? panic("Cannot borrow KittyItems collection receiver from account")\n    }\n  \n    execute {\n      let item <- self.saleOffer.accept(\n        payment: <-self.paymentVault\n      )\n\n      self.kittyItemsCollection.deposit(token: <-item)\n\n      self.storefront.cleanup(saleOfferResourceID: saleOfferResourceID)\n    }\n  }\n'])));function We(e){var t=e.itemID,n=e.ownerAddress,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return Object(te.a)(null!=t,"buyMarketItem({itemID, ownerAddress}) -- itemID required"),Object(te.a)(null!=n,"buyMarketItem({itemID, ownerAddress}) -- ownerAddress required"),re([h.transaction(Le),h.args([h.arg(Number(t),W.UInt64),h.arg(String(n),W.Address)]),h.proposer(h.authz),h.payer(h.authz),h.authorizations([h.authz]),h.limit(1e3)],r)}var qe=h.cdc(_e||(_e=Object(L.a)(['\n  import NFTStorefront from 0xNFTStorefront\n\n  transaction(saleOfferResourceID: UInt64) {\n    let storefront: &NFTStorefront.Storefront{NFTStorefront.StorefrontManager}\n\n    prepare(acct: AuthAccount) {\n      self.storefront = acct.borrow<&NFTStorefront.Storefront{NFTStorefront.StorefrontManager}>(from: NFTStorefront.StorefrontStoragePath)\n        ?? panic("Missing or mis-typed NFTStorefront.Storefront")\n    }\n\n    execute {\n      self.storefront.removeSaleOffer(saleOfferResourceID: saleOfferResourceID)\n    }\n  }\n'])));function Ye(e){var t=e.saleOfferResourceID,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return Object(te.a)(null!=t,"cancelMarketListing({saleOfferResourceID}) -- saleOfferResourceID required"),re([h.transaction(qe),h.args([h.arg(Number(t),W.UInt64)]),h.proposer(h.authz),h.payer(h.authz),h.authorizations([h.authz]),h.limit(1e3)],n)}function Je(e){return e.split("|")}var Ge=Object(u.c)({key:"market-item::state",default:Object(u.d)({key:"market-item::default",get:function(e){return Object(_.a)(V.a.mark((function t(){return V.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Me.apply(void 0,Object(Be.a)(Je(e)));case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}),t)})))}})}),Xe=Object(u.c)({key:"market-item::status",default:P});function $e(e,t){var n=y(),c=Object(p.a)(n,1)[0],a=X(e),s=X(c.addr),i=E(),o=Oe(c.addr),l=function(e,t){return[e,t].join("|")}(e,t),d=Object(u.e)(Ge(l)),b=Object(p.a)(d,2),f=b[0],j=b[1],O=Object(u.e)(Xe(l)),m=Object(p.a)(O,2),x=m[0],g=m[1],S=Object(h.sansPrefix)(c.addr)===Object(h.sansPrefix)(e);return Object(r.useEffect)((function(){Me.apply(void 0,Object(Be.a)(Je(l))).then(j)}),[]),Object(H.a)(Object(H.a)({},f),{},{status:x,owned:S,buy:function(){return Object(_.a)(V.a.mark((function n(){return V.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,We({itemID:t,ownerAddress:e},{onStart:function(){g(U)},onSuccess:function(){return Object(_.a)(V.a.mark((function t(){return V.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e!==c.addr&&a.refresh(),s.refresh(),o.refresh();case 3:case"end":return t.stop()}}),t)})))()},onComplete:function(){return Object(_.a)(V.a.mark((function e(){return V.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:g(P);case 1:case"end":return e.stop()}}),e)})))()},onError:function(e){return Object(_.a)(V.a.mark((function e(){return V.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})))()}});case 2:case"end":return n.stop()}}),n)})))()},cancelListing:function(){return Object(_.a)(V.a.mark((function n(){var r;return V.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return r=i.findSaleOffer(f?f.itemID:t),n.next=3,Ye({saleOfferResourceID:r},{onStart:function(){g(U)},onSuccess:function(){return Object(_.a)(V.a.mark((function t(){return V.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e!==c.addr&&a.refresh(),s.refresh(),o.refresh();case 3:case"end":return t.stop()}}),t)})))()},onComplete:function(){return Object(_.a)(V.a.mark((function e(){return V.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:g(P);case 1:case"end":return e.stop()}}),e)})))()},onError:function(e){return Object(_.a)(V.a.mark((function e(){return V.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})))()}});case 3:case"end":return n.stop()}}),n)})))()},refresh:function(){return Object(_.a)(V.a.mark((function e(){return V.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return g(U),e.next=3,Me.apply(void 0,Object(Be.a)(Je(l))).then(j);case 3:g(P);case 4:case"end":return e.stop()}}),e)})))()}})}var He,Qe,Ze,et,tt,nt=n(184),rt=n(16),ct=n(13),at=n(80),st="SET_CALLBACK",it="PROCESS",ot="MAYBE_PROCESS",ut="TIMEOUT",lt="ENQUEUE",dt="RESOLVE",bt=(He={},Object(rt.a)(He,ct.a,(function(e){e.put("need",new Set),e.put("processing",new Set),e.put("hold",{}),setInterval((function(){return e.sendSelf(ut)}),500)})),Object(rt.a)(He,st,(function(e,t,n){e.put("callback",Object(_.a)(V.a.mark((function e(){var t=arguments;return V.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",n.apply(void 0,t));case 1:case"end":return e.stop()}}),e)})))),e.sendSelf(ot)})),Object(rt.a)(He,lt,(function(e,t,n){var r=Object(at.a)(),c={id:r,args:n,reply:t.reply};e.update("need",(function(e){return e.add(r),e})),e.update("hold",(function(e){return Object(H.a)(Object(H.a)({},e),{},Object(rt.a)({},r,c))})),e.sendSelf(ot)})),Object(rt.a)(He,ut,(function(e){e.get("need").size&&e.sendSelf(it)})),Object(rt.a)(He,ot,(function(e){e.get("need")>=10&&e.sendSelf(it)})),Object(rt.a)(He,it,(function(e){var t=e.get("callback");if("function"===typeof t){var n=e.get("need");e.update("processing",(function(e){return new Set([].concat(Object(Be.a)(e),Object(Be.a)(n)))})),e.put("need",new Set);var r=e.get("hold");t(Object(Be.a)(n).reduce((function(e,t){return Object(H.a)(Object(H.a)({},e),{},Object(rt.a)({},t,r[t].args))}),{})).then((function(t){e.sendSelf(dt,t)}))}})),Object(rt.a)(He,dt,(function(e,t,n){for(var r=Object.keys(n),c=function(){var t=s[a];e.get("hold")[t].reply(n[t]),e.update("processing",(function(e){return e.delete(t),e})),e.update("hold",(function(e){return delete e[t],e}))},a=0,s=r;a<s.length;a++)c()})),He),ft=h.cdc(Qe||(Qe=Object(L.a)(["\nimport NonFungibleToken from 0xNonFungibleToken\nimport KittyItems from 0xKittyItems\n\npub struct AccountItem {\n  pub let itemID: UInt64\n  pub let typeID: UInt64\n  pub let owner: Address\n\n  init(itemID: UInt64, typeID: UInt64, owner: Address) {\n    self.itemID = itemID\n    self.typeID = typeID\n    self.owner = owner\n  }\n}\n\npub fun fetch(address: Address, id: UInt64): AccountItem? {\n  if let col = getAccount(address).getCapability<&KittyItems.Collection{NonFungibleToken.CollectionPublic, KittyItems.KittyItemsCollectionPublic}>(KittyItems.CollectionPublicPath).borrow() {\n    if let item = col.borrowKittyItem(id: id) {\n      return AccountItem(itemID: id, typeID: item.typeID, owner: address)\n    }\n  }\n\n  return nil\n}\n\npub fun main(keys: [String], addresses: [Address], ids: [UInt64]): {String: AccountItem?} {\n  let r: {String: AccountItem?} = {}\n  var i = 0\n  while i < keys.length {\n    let key = keys[i]\n    let address = addresses[i]\n    let id = ids[i]\n    r[key] = fetch(address: address, id: id)\n    i = i + 1\n  }\n  return r\n}\n"]))),jt=function(e){return Object.keys(e).reduce((function(t,n){return t.keys.push(n),t.addresses.push(e[n][0]),t.ids.push(e[n][1]),t}),{keys:[],addresses:[],ids:[]})},Ot=(Ze="FETCH_ACCOUNT_ITEM",et=function(){var e=Object(_.a)(V.a.mark((function e(t){var n,r,c,a;return V.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=jt(t),r=n.keys,c=n.addresses,a=n.ids,e.abrupt("return",h.send([h.script(ft),h.args([h.arg(r,W.Array(W.String)),h.arg(c,W.Array(W.Address)),h.arg(a.map(Number),W.Array(W.UInt64))])]).then(h.decode));case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Object(ct.h)(bt,Ze),Object(ct.f)(Ze,st,et),{enqueue:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return Object(ct.f)(Ze,lt,t,{expectReply:!0,timeout:0})}}).enqueue;function pt(e,t){return mt.apply(this,arguments)}function mt(){return(mt=Object(_.a)(V.a.mark((function e(t,n){return V.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null!=t){e.next=2;break}return e.abrupt("return",Promise.resolve(null));case 2:if(null!=n){e.next=4;break}return e.abrupt("return",Promise.resolve(null));case 4:return e.abrupt("return",Ot(t,n));case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var ht=h.cdc(tt||(tt=Object(L.a)(['\n  import FungibleToken from 0xFungibleToken\n  import NonFungibleToken from 0xNonFungibleToken\n  import FUSD from 0xFUSD\n  import KittyItems from 0xKittyItems\n  import NFTStorefront from 0xNFTStorefront\n\n  transaction(saleItemID: UInt64, saleItemPrice: UFix64) {\n\n    let fusdReceiver: Capability<&FUSD.Vault{FungibleToken.Receiver}>\n    let kittyItemsCollection: Capability<&KittyItems.Collection{NonFungibleToken.Provider, NonFungibleToken.CollectionPublic}>\n    let storefront: &NFTStorefront.Storefront\n\n    prepare(account: AuthAccount) {\n      // We need a provider capability, but one is not provided by default so we create one if needed.\n      let kittyItemsCollectionProviderPrivatePath = /private/kittyItemsCollectionProvider\n\n      self.fusdReceiver = account.getCapability<&FUSD.Vault{FungibleToken.Receiver}>(/public/fusdReceiver)!\n\n      assert(self.fusdReceiver.borrow() != nil, message: "Missing or mis-typed FUSD receiver")\n\n      if !account.getCapability<&KittyItems.Collection{NonFungibleToken.Provider, NonFungibleToken.CollectionPublic}>(kittyItemsCollectionProviderPrivatePath)!.check() {\n        account.link<&KittyItems.Collection{NonFungibleToken.Provider, NonFungibleToken.CollectionPublic}>(kittyItemsCollectionProviderPrivatePath, target: KittyItems.CollectionStoragePath)\n      }\n\n      self.kittyItemsCollection = account.getCapability<&KittyItems.Collection{NonFungibleToken.Provider, NonFungibleToken.CollectionPublic}>(kittyItemsCollectionProviderPrivatePath)!\n      assert(self.kittyItemsCollection.borrow() != nil, message: "Missing or mis-typed KittyItemsCollection provider")\n      \n      self.storefront = account.borrow<&NFTStorefront.Storefront>(from: NFTStorefront.StorefrontStoragePath)\n        ?? panic("Missing or mis-typed NFTStorefront Storefront")\n    }\n\n    execute {\n      let saleCut = NFTStorefront.SaleCut(\n        receiver: self.fusdReceiver,\n        amount: saleItemPrice\n      )\n\n      self.storefront.createSaleOffer(\n        nftProviderCapability: self.kittyItemsCollection,\n        nftType: Type<@KittyItems.NFT>(),\n        nftID: saleItemID,\n        salePaymentVaultType: Type<@FUSD.Vault>(),\n        saleCuts: [saleCut]\n      )\n    }\n  }\n\n'])));function xt(e){var t=e.itemID,n=e.price,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(null==t)throw new Error("createSaleOffer(itemID, price) -- itemID required");if(null==n)throw new Error("createSaleOffer(itemID, price) -- price required");return re([h.transaction(ht),h.args([h.arg(Number(t),W.UInt64),h.arg(String(n),W.UFix64)]),h.proposer(h.authz),h.payer(h.authz),h.authorizations([h.authz]),h.limit(1e3)],r)}function gt(e){return e.split("|")}var yt=Object(u.c)({key:"account-item::state",default:Object(u.d)({key:"account-item::default",get:function(e){return Object(_.a)(V.a.mark((function t(){return V.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",pt.apply(void 0,Object(Be.a)(gt(e))));case 1:case"end":return t.stop()}}),t)})))}})}),St=Object(u.c)({key:"account-item::status",default:P});var It=function(e){var t=e.typeID,c=Object(r.useState)(""),a=Object(p.a)(c,2),s=a[0],i=a[1];return Object(r.useEffect)((function(){function e(){return(e=Object(_.a)(V.a.mark((function e(){var r;return V.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n(152)("./item0".concat(t,".svg"));case 2:r=e.sent,i(r.default);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}t&&function(){e.apply(this,arguments)}()}),[t]),Object(j.jsx)(F.a,{maxW:"64px",src:s})};function vt(e){var t=e.address,n=e.id,r=function(e,t){var n=y(),r=Object(p.a)(n,1)[0],c=X(e),a=E(),s=function(e,t){return[e,t].join("|")}(e,t),i=Object(u.e)(yt(s)),o=Object(p.a)(i,2),l=o[0],d=o[1],b=Object(u.e)(St(s)),f=Object(p.a)(b,2),j=f[0],O=f[1];return Object(H.a)(Object(H.a)({},l),{},{status:j,forSale:a.has(l),saleOfferResourceID:a.findSaleOffer(l.itemID),owned:Object(h.sansPrefix)(r.addr)===Object(h.sansPrefix)(e),sell:function(e){return Object(_.a)(V.a.mark((function n(){return V.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,xt({itemID:t,price:e},{onStart:function(){O(U)},onSuccess:function(){return Object(_.a)(V.a.mark((function e(){return V.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:c.refresh();case 1:case"end":return e.stop()}}),e)})))()},onComplete:function(){return Object(_.a)(V.a.mark((function e(){return V.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:O(P);case 1:case"end":return e.stop()}}),e)})))()},onError:function(e){return Object(_.a)(V.a.mark((function e(){return V.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})))()}});case 2:case"end":return n.stop()}}),n)})))()},refresh:function(){return Object(_.a)(V.a.mark((function e(){return V.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return O(U),e.next=3,pt.apply(void 0,Object(Be.a)(gt(s))).then(d);case 3:O(P);case 4:case"end":return e.stop()}}),e)})))()}})}(t,n),c=$e(t,n),a=y(),s=Object(p.a)(a,1)[0],i=r.status!==P||c.status!==P;return null==t||null==n?null:Object(j.jsxs)(ke.f,{children:[Object(j.jsx)(ke.c,{maxW:"50px",children:Object(j.jsx)(I.a,{children:Object(j.jsxs)(nt.a,{as:r.forSale&&"del",children:["#",r.itemID]})})}),Object(j.jsxs)(ke.c,{children:["(",r.typeID,")"]}),Object(j.jsx)(ke.c,{children:Object(j.jsx)(It,{typeID:r.typeID})}),s.addr===t&&Object(j.jsx)(j.Fragment,{children:r.forSale?Object(j.jsx)(ke.c,{isNumeric:!0,children:Object(j.jsx)(D.a,{size:"sm",colorScheme:"orange",disabled:i,onClick:c.cancelListing,children:Object(j.jsxs)(k.a,{children:[i&&Object(j.jsx)(ve.a,{mr:"2",size:"xs"})," ",Object(j.jsx)(nt.a,{children:"Unlist"})]})})}):Object(j.jsx)(ke.c,{isNumeric:!0,children:Object(j.jsx)(D.a,{colorScheme:"blue",size:"sm",disabled:i,onClick:function(){return r.sell("10.0")},children:Object(j.jsxs)(k.a,{children:[i&&Object(j.jsx)(ve.a,{mr:"2",size:"xs"})," ",Object(j.jsx)(nt.a,{children:"List for 10 FUSD"})]})})})})]})}function kt(e){return Object(j.jsx)(r.Suspense,{fallback:Object(j.jsxs)(ke.f,{children:[Object(j.jsx)(ke.c,{children:Object(j.jsxs)(I.a,{children:[Object(j.jsxs)(nt.a,{children:["#",e.id]}),Object(j.jsx)(v.a,{ml:"4",children:Object(j.jsx)(ve.a,{size:"xs"})})]})}),Object(j.jsx)(ke.c,{}),Object(j.jsx)(ke.c,{}),Object(j.jsx)(ke.c,{})]}),children:Object(j.jsx)(vt,Object(H.a)({},e))})}function Ft(e){var t=e.address,n=e.id,r=y(),c=Object(p.a)(r,2),a=c[0],s=c[1],i=$e(t,n),o=i.status!==P||i.status!==P;return Object(j.jsxs)(ke.f,{children:[Object(j.jsx)(ke.c,{maxW:"50px",children:Object(j.jsx)(I.a,{children:Object(j.jsxs)(nt.a,{children:["#",i.itemID]})})}),Object(j.jsxs)(ke.c,{children:["(",i.typeID,")"]}),Object(j.jsx)(ke.c,{children:Object(j.jsx)(It,{typeID:i.typeID})}),Object(j.jsx)(ke.c,{children:i.price}),s&&Object(j.jsx)(j.Fragment,{children:i.owner===a.addr?Object(j.jsx)(ke.c,{isNumeric:!0,children:Object(j.jsx)(D.a,{colorScheme:"orange",size:"sm",disabled:o,onClick:i.cancelListing,children:Object(j.jsxs)(k.a,{children:[o&&Object(j.jsx)(ve.a,{mr:"2",size:"xs"}),Object(j.jsx)(nt.a,{children:"Unlist"})]})})}):Object(j.jsx)(ke.c,{isNumeric:!0,children:Object(j.jsx)(D.a,{colorScheme:"blue",size:"sm",disabled:o,onClick:i.buy,children:Object(j.jsxs)(k.a,{children:[o&&Object(j.jsx)(ve.a,{mr:"2",size:"xs"}),Object(j.jsx)(nt.a,{children:"Buy"})]})})})})]})}function wt(e){return Object(j.jsx)(r.Suspense,{fallback:Object(j.jsxs)(ke.f,{children:[Object(j.jsx)(ke.c,{maxW:"50px",children:Object(j.jsxs)(I.a,{children:[Object(j.jsxs)(nt.a,{children:["#",e.id]}),Object(j.jsx)(v.a,{ml:"4",children:Object(j.jsx)(ve.a,{size:"xs"})})]})}),Object(j.jsx)(ke.c,{}),Object(j.jsx)(ke.c,{})]}),children:Object(j.jsx)(Ft,Object(H.a)({},e))})}function Tt(){var e=E(),t=e.items,n=e.status;return t.length<=0?Object(j.jsx)(S.a,{borderWidth:"1px",borderRadius:"lg",p:"4",children:Object(j.jsx)(nt.a,{children:"No Items Listed For Sale"})}):Object(j.jsx)(S.a,{borderWidth:"1px",borderRadius:"lg",children:Object(j.jsxs)(ke.a,{size:"sm",children:[Object(j.jsx)(ke.e,{children:Object(j.jsxs)(ke.f,{children:[Object(j.jsx)(ke.d,{children:"Id"}),Object(j.jsx)(ke.d,{children:"Type"}),Object(j.jsx)(ke.d,{children:"Image"}),Object(j.jsx)(ke.d,{children:"Price"})]})}),Object(j.jsx)(ke.b,{children:t.map((function(e){return Object(j.jsx)(wt,{id:e.resourceID,address:e.owner,status:n},e.resourceID)}))})]})})}function Dt(){return Object(j.jsx)(r.Suspense,{fallback:Object(j.jsx)(S.a,{borderWidth:"1px",borderRadius:"lg",p:"4",children:Object(j.jsx)(ve.a,{})}),children:Object(j.jsx)(Tt,{})})}function Ct(e){var t=e.address,n=X(t),r=y(),c=Object(p.a)(r,1)[0];return null==t?null:n.ids.length<=0?Object(j.jsx)(S.a,{borderWidth:"1px",borderRadius:"lg",p:"4",children:Object(j.jsx)(nt.a,{children:"No Items"})}):Object(j.jsx)(S.a,{borderWidth:"1px",borderRadius:"lg",children:Object(j.jsxs)(ke.a,{size:"sm",children:[Object(j.jsx)(ke.e,{children:Object(j.jsxs)(ke.f,{children:[Object(j.jsx)(ke.d,{children:"Id"}),Object(j.jsx)(ke.d,{children:"Type"}),Object(j.jsx)(ke.d,{children:"Image"}),c.addr===t&&Object(j.jsx)(ke.d,{})]})}),Object(j.jsx)(ke.b,{children:n.ids.map((function(e){return Object(j.jsx)(kt,{id:e,address:t},e)}))})]})})}function Nt(e){var t=e.address;return Object(j.jsx)(r.Suspense,{fallback:Object(j.jsx)(S.a,{borderWidth:"1px",borderRadius:"lg",p:"4",children:Object(j.jsx)(ve.a,{})}),children:Object(j.jsx)(Ct,{address:t})})}var Pt=n(185),Ut=n(193),Kt=n(186),At=n(187),zt=n.p+"static/media/cookie.293806d6.svg",Rt=n.p+"static/media/backpack.d9a42e9e.svg";function Et(){return null}function Bt(e){var t,n,r=X(e.address);if(r.status!==P)return Object(j.jsx)(ve.a,{size:"xs",ml:"1"});var c=null!==(t=null===r||void 0===r||null===(n=r.ids)||void 0===n?void 0:n.length)&&void 0!==t?t:0;return c>0?Object(j.jsx)(Pt.a,{ml:"1",children:c}):null}function Mt(e){var t=X(e.address);return Object(j.jsx)(D.a,{disabled:t.status!==P,onClick:t.mint,children:"Mint Item"})}function Vt(e){var t=e.address,n=xe(t),r=Oe(t),c=y(),a=Object(p.a)(c,1)[0],s={type:"info",title:"Initialize Your Account",text:"You need to initialize your account before you can receive FUSD."},i={type:"info",title:"Get FUSD",text:"You need FUSD to buy Kitty Items."};function o(e){return Object(j.jsx)(I.a,{my:"4",children:Object(j.jsxs)(Ut.a,{status:e.type,children:[Object(j.jsx)(Ut.b,{}),Object(j.jsx)(Ut.c,{mr:2,children:e.title}),e.text]})})}switch(!0){case!n.isInitialized&&a.addr===t:return o(s);case r.balance<0&&a.addr===t:return o(i);default:return null}}Object(h.config)().put("app.detail.title","Kitty Items").put("env","").put("faucet","").put("accessNode.api","").put("challenge.handshake","").put("0xFungibleToken","").put("0xNonFungibleToken","").put("0xFUSD","").put("0xNFTStorefront","").put("0xKittyItems","").put("decoder.Type",(function(e){return e.staticType}));n(153);window.fcl=h,window.t=W,s.a.render(Object(j.jsx)(O,{children:Object(j.jsxs)(o.d,{children:[Object(j.jsx)(o.b,{exact:!0,path:"/0x:address",component:function(){var e=function(){var e=Object(o.g)().address;return Object(h.withPrefix)(e)}(),t=y(),n=Object(p.a)(t,1)[0];return null==e?Object(j.jsx)("div",{children:"Not Found"}):Object(j.jsx)(m,{children:Object(j.jsxs)(S.a,{p:"4",children:[Object(j.jsx)(Ie,{}),Object(j.jsxs)(I.a,{mb:"4",children:[Object(j.jsx)(v.a,{children:Object(j.jsxs)(nt.a,{mr:"4",fontSize:"2xl",color:"purple.500",children:["Account:"," ",Object(j.jsx)(nt.a,{display:"inline",color:"black",fontWeight:"bold",children:e})]})}),e===n.addr&&Object(j.jsx)(v.a,{children:Object(j.jsx)(Kt.a,{ml:"4",variant:"outline",colorScheme:"orange",children:"You"})})]}),Object(j.jsx)(r.Suspense,{fallback:null,children:Object(j.jsx)(Vt,{address:e})}),Object(j.jsxs)(I.a,{children:[Object(j.jsx)(S.a,{children:Object(j.jsx)(Ce,{address:e})}),Object(j.jsx)(S.a,{ml:"4",children:Object(j.jsx)(ze,{address:e})}),n.addr===e&&Object(j.jsx)(S.a,{ml:"4",children:Object(j.jsx)(r.Suspense,{fallback:null,children:Object(j.jsx)(Mt,{address:e})})})]}),Object(j.jsxs)(At.e,{colorScheme:"pink",defaultIndex:0,children:[Object(j.jsxs)(At.b,{children:[Object(j.jsxs)(At.a,{fontSize:"2xl",children:[Object(j.jsxs)(k.a,{children:[Object(j.jsx)(F.a,{src:Rt}),Object(j.jsxs)(S.a,{children:[n.addr===e?"My":"User"," Items"]})]}),Object(j.jsx)(r.Suspense,{fallback:null,children:Object(j.jsx)(Bt,{address:e})})]}),Object(j.jsxs)(At.a,{fontSize:"2xl",children:[Object(j.jsxs)(k.a,{children:[Object(j.jsx)(F.a,{src:zt}),Object(j.jsx)(S.a,{children:"Items Marketplace"})]}),Object(j.jsx)(r.Suspense,{fallback:null,children:Object(j.jsx)(Et,{})})]})]}),Object(j.jsxs)(At.d,{children:[Object(j.jsx)(At.c,{children:Object(j.jsx)(Nt,{address:e})}),Object(j.jsx)(At.c,{children:Object(j.jsx)(Dt,{})})]})]})]})})}}),Object(j.jsx)(o.b,{exact:!0,path:"/",component:function(){var e=y(),t=Object(p.a)(e,3),n=t[0],r=t[1],c=t[2],a=c.signUp,s=c.logIn;return r?Object(j.jsx)(o.a,{to:"/"+n.addr}):Object(j.jsx)(m,{children:Object(j.jsx)(S.a,{p:"4",children:Object(j.jsxs)(I.a,{children:[Object(j.jsx)(v.a,{mr:"4",children:Object(j.jsxs)(k.a,{children:[Object(j.jsx)(F.a,{src:C}),Object(j.jsx)(w.a,{size:"lg",children:"Kitty Items"})]})}),Object(j.jsx)(T.a,{}),Object(j.jsx)(D.a,{mr:"4",colorScheme:"blue",onClick:s,children:"Log In"}),Object(j.jsx)(D.a,{mr:"4",colorScheme:"blue",onClick:a,children:"Sign Up"})]})})})}}),Object(j.jsx)(o.b,{component:function(){return Object(j.jsx)(m,{children:"Page: Not Found"})}})]})}),document.getElementById("root")),i()}},[[154,1,2]]]);
//# sourceMappingURL=main.2dec673c.chunk.js.map