(this["webpackJsonpcrypto-dappy"]=this["webpackJsonpcrypto-dappy"]||[]).push([[0],{100:function(e,t,n){},102:function(e,t,n){},1591:function(e,t,n){},1599:function(e,t,n){},1600:function(e,t,n){},1601:function(e,t,n){},1602:function(e,t,n){},1603:function(e,t,n){},1604:function(e,t,n){},1605:function(e,t,n){"use strict";n.r(t);var a=n(1),r=n.n(a),c=n(67),i=n.n(c),o=n(6);Object(o.b)({"accessNode.api":"https://access-testnet.onflow.org","discovery.wallet":"https://fcl-discovery.onflow.org/testnet/authn","0xFungibleToken":"0x9a0766d93b6608b7","0xFUSD":"0xe223d8a629e49c68","0xDappy":"0xdb3d539e48a805b7"});n(97),n(98);var l=n(9),s=n(11),u=n(4),p=n.n(u),d=n(10),j=n(8),b=function(e,t){switch(t.type){case"PROCESSING":return Object(j.a)(Object(j.a)({},e),{},{loading:!0,error:!1});case"SUCCESS":return Object(j.a)(Object(j.a)({},e),{},{loading:!1,error:!1,data:t.payload});case"ERROR":return Object(j.a)(Object(j.a)({},e),{},{loading:!1,error:!0});default:throw new Error}},f="\n  import DappyContract from 0xDappy\n\n  pub fun main(addr: Address): {UInt64: DappyContract.Template}? {\n    let account = getAccount(addr)\n    \n    if let ref = account.getCapability<&{DappyContract.CollectionPublic}>(DappyContract.CollectionPublicPath)\n                .borrow() {\n                  let dappies = ref.listDappies()\n                  return dappies\n                }\n    \n    return nil\n  }\n",h=n(18),m=function(e,t){switch(t.type){case"PROCESSING":return Object(j.a)(Object(j.a)({},e),{},{loading:!0,error:!1});case"SUCCESS":return Object(j.a)(Object(j.a)({},e),{},{loading:!1,error:!1,data:t.payload});case"ADD":return Object(j.a)(Object(j.a)({},e),{},{data:[].concat(Object(h.a)(e.data),[t.payload])});case"ERROR":return Object(j.a)(Object(j.a)({},e),{},{loading:!1,error:!0});default:throw new Error}},v=(n(100),n(0));function O(){return Object(v.jsxs)("div",{className:"lds-ring",children:[Object(v.jsx)("div",{}),Object(v.jsx)("div",{}),Object(v.jsx)("div",{}),Object(v.jsx)("div",{})]})}n(102);function x(e){var t=e.id;return Object(v.jsxs)("div",{className:"tx__wrapper",children:[Object(v.jsx)("div",{className:"tx__loader",children:Object(v.jsx)(O,{})}),Object(v.jsx)("div",{className:"tx__content",children:Object(v.jsxs)("p",{children:["Tx: ",t]})})]})}var g=r.a.createContext();function y(e){var t=e.children,n=Object(a.useState)([]),r=Object(l.a)(n,2),c=r[0],i=r[1],s=Object(a.useState)(!0),u=Object(l.a)(s,2),b=u[0],f=u[1];Object(a.useEffect)((function(){m()}),[]);var m=function(){var e=Object(d.a)(p.a.mark((function e(){var t,n,a,r,c;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if((t=window.localStorage.getItem("txs"))&&0!==t.length){e.next=4;break}return f(!1),e.abrupt("return");case 4:n=null===t||void 0===t?void 0:t.split(","),a=[],r=p.a.mark((function e(t){var r,c;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=n[t],e.next=3,D(r);case 3:if(4!==(null===(c=e.sent)||void 0===c?void 0:c.status)){e.next=6;break}return e.abrupt("return","continue");case 6:Object(o.i)(r).subscribe((function(e){return y(null===e||void 0===e?void 0:e.status,r)})),a.push(r);case 8:case"end":return e.stop()}}),e)})),c=0;case 8:if(!(c<n.length)){e.next=16;break}return e.delegateYield(r(c),"t0",10);case 10:if("continue"!==e.t0){e.next=13;break}return e.abrupt("continue",13);case 13:c++,e.next=8;break;case 16:localStorage.setItem("txs",a.toString()),i(a.map((function(e){return{id:e}}))),f(!1);case 19:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),y=function(e,t){if(4!==e){var n=c.find((function(e){return e.id===t})),a=c.filter((function(e){return e.id!==t}));if(n){var r=Object(j.a)(Object(j.a)({},n),{},{status:e});i([].concat(Object(h.a)(a),[r]))}}else C(t)},C=function(e){var t=c.filter((function(t){return t.id!==e}));i(t)},D=function(){var e=Object(d.a)(p.a.mark((function e(t){var n;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(o.h)([Object(o.e)(t)]).then(o.d);case 2:return n=e.sent,e.abrupt("return",n);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return b?Object(v.jsx)(O,{}):Object(v.jsxs)(g.Provider,{value:{runningTxs:0!==c.length,addTx:function(e){var t={id:e};i((function(e){return[].concat(Object(h.a)(e),[t])})),Object(o.i)(e).subscribe((function(e){return y(null===e||void 0===e?void 0:e.status,null===t||void 0===t?void 0:t.id)})),window.localStorage.setItem("txs",[].concat(Object(h.a)(c),[null===t||void 0===t?void 0:t.id]).toString())}},children:[Object(v.jsx)("div",{className:"txs__list",children:c.map((function(e){return Object(v.jsx)(x,{id:null===e||void 0===e?void 0:e.id},null===e||void 0===e?void 0:e.id)}))}),t]})}function C(){return Object(a.useContext)(g)}var D=n(34),k=n(35),w=3,S="Common",F="\ud83e\uddf1",_=4,N="Rare",R="\ud83c\udf3f",I=5,U="Ultrarare",P="\ud83d\udc8e",E=[3,3,3,3,3,3,4,4,4,5],A=n(70),T=n.n(A),V=n(20),M=n.n(V),B=function(e){return Math.floor(Math.random()*e)},G=function(e){if(e)return"#".concat(e)},Z=function(e){return e>=31?21:e>=25?14:7},H=function(){for(var e="",t=0;t<6;t++)e+="0123456789ABCDEF"[Math.floor(16*Math.random())];return e},Y=function(e){var t=e.split(".");t.pop();for(var n=[],a=0;a<t.length;a++){var r=G(t[a]);n.push(r)}return n},J=function(e){var t=e.split("."),n=t[t.length-1];return G(t[n])||G(n)},z=function(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:3,t=arguments.length>1?arguments[1]:void 0,n="",a=0;a<e;a++)n+=H()+".";return n+=t?H():B(e)},q=function(e,t,n,a){var r,c=t?{format:"hsv",full_random:n,base_color:t}:{format:"hsv",full_random:n},i=M.a.make_color(c),o="string"===typeof a;switch(e){case w:r=M.a.make_scheme.apply(M.a,Object(h.a)(i).concat([{scheme_type:o?a:"split"}])),console.log("cOMMON",r);break;case _:r=M.a.make_scheme.apply(M.a,Object(h.a)(i).concat([{scheme_type:o?a:"double"}])),console.log("4",r);break;case I:r=M.a.make_scheme.apply(M.a,Object(h.a)(i).concat([{scheme_type:o?a:"mono"}])),console.log("c5",r);break;default:r=M.a.make_scheme.apply(M.a,Object(h.a)(i).concat([{scheme_type:o?a:"mono"}]))}for(var l="",s=0;s<e;s++){var u=r[s]?r[s]:r[B(r.length)];l+=(null===u||void 0===u?void 0:u.replace("#",""))+"."}return l+=B(e)},L=function(){function e(t,n,a,r,c){Object(D.a)(this,e),this.id=t,this.dna=n,this.name=a,this.price=r||0,this.serialNumber=c||0}return Object(k.a)(e,[{key:"rarity",get:function(){switch((e=this.dna,e.split(".")).length-1){case w:return"".concat(F," ").concat(S);case _:return"".concat(R," ").concat(N);case I:return"".concat(P," ").concat(U);default:return"Invalid"}var e}},{key:"type",get:function(){return"Dappy"}}]),e}();function K(e){var t=e.title,n=e.subtitle;return Object(v.jsxs)(v.Fragment,{children:[Object(v.jsx)("img",{src:"".concat("","/assets/DappyPink.png"),width:"200px",alt:"Dappy"}),Object(v.jsx)("h1",{className:"app__title",children:t}),Object(v.jsx)("h3",{className:"app__subtitle",children:n})]})}var Q=Object(a.createContext)();function W(e){var t=e.children,n=function(){var e=Object(a.useState)(),t=Object(l.a)(e,2),n=t[0],r=t[1],c={logIn:o.a,logOut:o.j};return Object(a.useEffect)((function(){var e=!1;return e||o.c().subscribe(r),function(){e=!0}}),[]),[n,null!=(null===n||void 0===n?void 0:n.addr),c]}(),r=Object(l.a)(n,3),c=r[0],i=r[1],s=r[2];return c&&i?Object(v.jsx)(Q.Provider,{value:Object(j.a)({user:c,loggedIn:i},s),children:t}):Object(v.jsxs)(v.Fragment,{children:[Object(v.jsx)(K,{title:Object(v.jsxs)(v.Fragment,{children:[Object(v.jsx)("span",{className:"highlight",children:"Crypto"}),"Dappy"]}),subtitle:Object(v.jsxs)(v.Fragment,{children:["The brand new ",Object(v.jsx)("span",{className:"highlight",children:"collectible game"})," on the blockchain"]})}),Object(v.jsx)("div",{style:{display:"inline-block"},className:"btn btn-bg rounded",onClick:function(){return null===s||void 0===s?void 0:s.logIn()},children:"Sign In to start"})]})}var X=function(){return Object(a.useContext)(Q)},$=Object(a.createContext)();function ee(e){var t=e.children,n=X().user,r=function(e){var t=Object(a.useState)(!0),n=Object(l.a)(t,2),r=n[0],c=n[1],i=Object(a.useState)(null),s=Object(l.a)(i,2),u=s[0],j=s[1],b=C().addTx;return Object(a.useEffect)((function(){(null===e||void 0===e?void 0:e.addr)&&function(){var t=Object(d.a)(p.a.mark((function t(){var n;return p.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,Object(o.g)({cadence:"\n  import DappyContract from 0xDappy\n  \n  pub fun main(addr: Address): Bool {\n    let ref = getAccount(addr).getCapability<&{DappyContract.CollectionPublic}>(DappyContract.CollectionPublicPath).check()\n    return ref\n  }\n",args:function(t,n){return[t(null===e||void 0===e?void 0:e.addr,n.Address)]}});case 3:n=t.sent,j(n),c(!1),t.next=12;break;case 8:t.prev=8,t.t0=t.catch(0),console.log(t.t0),c(!1);case 12:case"end":return t.stop()}}),t,null,[[0,8]])})));return function(){return t.apply(this,arguments)}}()()}),[]),{loading:r,collection:u,createCollection:function(){var e=Object(d.a)(p.a.mark((function e(){var t;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(o.f)({cadence:"\n  import DappyContract from 0xDappy\n  \n  transaction {\n    prepare(acct: AuthAccount) {\n      let collection <- DappyContract.createEmptyCollection()\n      acct.save<@DappyContract.Collection>(<-collection, to: DappyContract.CollectionStoragePath)\n      acct.link<&{DappyContract.CollectionPublic}>(DappyContract.CollectionPublicPath, target: DappyContract.CollectionStoragePath)\n    }\n  }\n",limit:55});case 2:return t=e.sent,b(t),e.next=6,Object(o.i)(t).onceSealed();case 6:j(!0);case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),deleteCollection:function(){var e=Object(d.a)(p.a.mark((function e(){var t;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Object(o.f)({cadence:'\n  import DappyContract from 0xDappy\n\n  transaction() {\n    prepare(acct: AuthAccount) {\n      let collectionRef <- acct.load<@DappyContract.Collection>(from: DappyContract.CollectionStoragePath)\n        ?? panic("Could not borrow collection reference")\n      destroy collectionRef\n      acct.unlink(DappyContract.CollectionPublicPath)\n    }\n  }\n',limit:75});case 3:return t=e.sent,b(t),e.next=7,Object(o.i)(t).onceSealed();case 7:j(!1),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(0),console.log(e.t0);case 13:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(){return e.apply(this,arguments)}}()}}(n),c=r.collection,i=r.createCollection,s=r.deleteCollection,u=function(e){var t=Object(a.useReducer)(b,{loading:!0,error:!1,data:null}),n=Object(l.a)(t,2),r=n[0],c=n[1],i=C().addTx;Object(a.useEffect)((function(){s()}),[]);var s=function(){var t=Object(d.a)(p.a.mark((function t(){var n;return p.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return c({type:"PROCESSING"}),t.prev=1,t.next=4,Object(o.g)({cadence:"\n  import FungibleToken from 0xFungibleToken\n  import FUSD from 0xFUSD\n\n  pub fun main(address: Address): UFix64? {\n    let account = getAccount(address)\n    if let vaultRef = account.getCapability(/public/fusdBalance).borrow<&FUSD.Vault{FungibleToken.Balance}>() {\n      return vaultRef.balance\n    } \n    return nil\n  }\n",args:function(t,n){return[t(null===e||void 0===e?void 0:e.addr,n.Address)]}});case 4:n=t.sent,c({type:"SUCCESS",payload:n}),t.next=12;break;case 8:t.prev=8,t.t0=t.catch(1),c({type:"ERROR"}),console.log(t.t0);case 12:case"end":return t.stop()}}),t,null,[[1,8]])})));return function(){return t.apply(this,arguments)}}(),u=function(){var e=Object(d.a)(p.a.mark((function e(){var t;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c({type:"PROCESSING"}),e.prev=1,e.next=4,Object(o.f)({cadence:"\n  import FungibleToken from 0xFungibleToken\n  import FUSD from 0xFUSD\n\n  transaction {\n    prepare(signer: AuthAccount) {\n      if(signer.borrow<&FUSD.Vault>(from: /storage/fusdVault) != nil) {\n        return\n      }\n    \n      signer.save(<-FUSD.createEmptyVault(), to: /storage/fusdVault)\n\n      signer.link<&FUSD.Vault{FungibleToken.Receiver}>(\n        /public/fusdReceiver,\n        target: /storage/fusdVault\n      )\n\n      signer.link<&FUSD.Vault{FungibleToken.Balance}>(\n        /public/fusdBalance,\n        target: /storage/fusdVault\n      )\n    }\n  }\n",limit:100});case 4:return t=e.sent,i(t),e.next=8,Object(o.i)(t).onceSealed();case 8:c({type:"SUCCESS"}),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(1),c({type:"ERROR"});case 14:case"end":return e.stop()}}),e,null,[[1,11]])})));return function(){return e.apply(this,arguments)}}();return Object(j.a)(Object(j.a)({},r),{},{createFUSDVault:u,getFUSDBalance:s})}(n),h=u.data,O=u.createFUSDVault,x=u.getFUSDBalance,g=function(e,t,n){var r=Object(a.useReducer)(m,{oading:!1,error:!1,data:[]}),c=Object(l.a)(r,2),i=c[0],s=c[1],u=C(),b=u.addTx,h=u.runningTxs;Object(a.useEffect)((function(){!function(){var t=Object(d.a)(p.a.mark((function t(){var n,a,r,c,i;return p.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return s({type:"PROCESSING"}),t.prev=1,t.next=4,Object(o.g)({cadence:f,args:function(t,n){return[t(null===e||void 0===e?void 0:e.addr,n.Address)]}});case 4:for(r in n=t.sent,a=[],n)c=n[r],i=new L(c.templateID,c.dna,c.name,c.price,r),a.push(i);s({type:"SUCCESS",payload:a}),t.next=13;break;case 10:t.prev=10,t.t0=t.catch(1),s({type:"ERROR"});case 13:case"end":return t.stop()}}),t,null,[[1,10]])})));return function(){return t.apply(this,arguments)}}()()}),[]);var v=function(){var e=Object(d.a)(p.a.mark((function e(a,r){var c;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t){e.next=3;break}return alert("You need to enable the collection first. Go to the tab Collection"),e.abrupt("return");case 3:if(!h){e.next=6;break}return alert("Transactions are still running. Please wait for them to finish first."),e.abrupt("return");case 6:return e.prev=6,e.next=9,Object(o.f)({cadence:'\n  import DappyContract from 0xDappy\n  import FUSD from 0xFUSD\n  import FungibleToken from 0xFungibleToken\n\n\n  transaction(templateID: UInt32, amount: UFix64) {\n    let receiverReference: &DappyContract.Collection{DappyContract.Receiver}\n    let sentVault: @FungibleToken.Vault\n\n    prepare(acct: AuthAccount) {\n      self.receiverReference = acct.borrow<&DappyContract.Collection>(from: DappyContract.CollectionStoragePath) \n          ?? panic("Cannot borrow")\n      let vaultRef = acct.borrow<&FUSD.Vault>(from: /storage/fusdVault) ?? panic("Could not borrow FUSD vault")\n      self.sentVault <- vaultRef.withdraw(amount: amount)\n    }\n\n    execute {\n      let newDappy <- DappyContract.mintDappy(templateID: templateID, paymentVault: <-self.sentVault)\n      self.receiverReference.deposit(token: <-newDappy)\n    }\n  }\n',limit:55,args:function(e,t){return[e(a,t.UInt32),e(r,t.UFix64)]}});case 9:return c=e.sent,b(c),e.next=13,Object(o.i)(c).onceSealed();case 13:return e.next=15,O(a);case 15:return e.next=17,n();case 17:e.next=22;break;case 19:e.prev=19,e.t0=e.catch(6),console.log(e.t0);case 22:case"end":return e.stop()}}),e,null,[[6,19]])})));return function(t,n){return e.apply(this,arguments)}}(),O=function(){var t=Object(d.a)(p.a.mark((function t(n){var a,r,c,i;return p.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,Object(o.g)({cadence:f,args:function(t,n){return[t(null===e||void 0===e?void 0:e.addr,n.Address)]}});case 3:a=t.sent,r=Object.values(a),c=r.find((function(e){return(null===e||void 0===e?void 0:e.templateID)===n})),i=new L(c.templateID,c.dna,c.name),s({type:"ADD",payload:i}),t.next=13;break;case 10:t.prev=10,t.t0=t.catch(0),console.log(t.t0);case 13:case"end":return t.stop()}}),t,null,[[0,10]])})));return function(e){return t.apply(this,arguments)}}(),x=function(){var t=Object(d.a)(p.a.mark((function t(n){var a,r,c,i,l,u;return p.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,Object(o.g)({cadence:f,args:function(t,n){return[t(null===e||void 0===e?void 0:e.addr,n.Address)]}});case 3:for(a=t.sent,r=Object.values(a),c=r.filter((function(e){return n.includes(null===e||void 0===e?void 0:e.templateID)})),i=c.map((function(e){return new L(e.templateID,e.dna,e.name)})),l=0;l<i.length;l++)u=i[l],s({type:"ADD",payload:u});t.next=13;break;case 10:t.prev=10,t.t0=t.catch(0),console.log(t.t0);case 13:case"end":return t.stop()}}),t,null,[[0,10]])})));return function(e){return t.apply(this,arguments)}}();return Object(j.a)(Object(j.a)({},i),{},{mintDappy:v,addDappy:O,batchAddDappies:x})}(n,c,x),y=g.data,D=g.addDappy,k=g.batchAddDappies,w=g.mintDappy;return Object(v.jsx)($.Provider,{value:{userDappies:y,mintDappy:w,addDappy:D,batchAddDappies:k,collection:c,createCollection:i,deleteCollection:s,balance:h,createFUSDVault:O,getFUSDBalance:x},children:t})}var te=function(){return Object(a.useContext)($)},ne=function(){function e(t,n,a){Object(D.a)(this,e),this._id=t,this.name=n,this.dappies=[],this.price=a}return Object(k.a)(e,[{key:"rarity",get:function(){return"".concat(P," ").concat(U)}},{key:"type",get:function(){return"Pack"}},{key:"id",get:function(){return"Pack".concat(this._id)}},{key:"size",get:function(){return this.dappies.length}},{key:"image",get:function(){return"".concat("","/assets/").concat(this.id,".png")}}]),e}();function ae(){var e=Object(a.useReducer)(b,{loading:!0,error:!1,data:[]}),t=Object(l.a)(e,2),n=t[0],r=t[1],c=te(),i=c.collection,s=c.batchAddDappies,u=c.getFUSDBalance,f=C(),h=f.runningTxs,m=f.addTx;Object(a.useEffect)((function(){(function(){var e=Object(d.a)(p.a.mark((function e(){var t;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r({type:"PROCESSING"}),e.prev=1,e.next=4,Object(o.g)({cadence:"\n  import DappyContract from 0xDappy\n  \n  pub fun main(): [DappyContract.FamilyReport] {\n    let families = DappyContract.listFamilies()\n    return families\n  }\n"});case 4:t=e.sent,r({type:"SUCCESS",payload:t}),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(1),r({type:"ERROR"});case 11:case"end":return e.stop()}}),e,null,[[1,8]])})));return function(){return e.apply(this,arguments)}})()()}),[]);var v=function(){var e=Object(d.a)(p.a.mark((function e(t){var n;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(o.g)({cadence:"\n  import DappyContract from 0xDappy\n\n  pub fun main(familyID: UInt32): DappyContract.FamilyReport {\n    let family = DappyContract.getFamily(familyID: familyID)\n    return family\n  }\n",args:function(e,n){return[e(t,n.UInt32)]}});case 2:return n=e.sent,e.abrupt("return",new ne(null===n||void 0===n?void 0:n.familyID,null===n||void 0===n?void 0:n.name,null===n||void 0===n?void 0:n.price));case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),O=function(){var e=Object(d.a)(p.a.mark((function e(t){var n;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(o.g)({cadence:"\n  import DappyContract from 0xDappy\n\n  pub fun main(familyID: UInt32): [UInt32] {\n    let templates = DappyContract.listFamilyTemplates(familyID: familyID)\n    return templates\n  }\n",args:function(e,n){return[e(t,n.UInt32)]}});case 2:return n=e.sent,e.abrupt("return",n);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),x=function(){var e=Object(d.a)(p.a.mark((function e(t,n,a){var r,c,l,d,j;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(i){e.next=3;break}return alert("\n      You need to enable the collection first. \n      Go to the tab 'Collection' and click on 'Create Collection'."),e.abrupt("return");case 3:if(!h){e.next=6;break}return alert("Transactions are still running. Please wait for them to finish first."),e.abrupt("return");case 6:r=[],c=0;case 8:if(!(c<n.length)){e.next=16;break}if(!(c>4)){e.next=11;break}return e.abrupt("break",16);case 11:l=Math.floor(Math.random()*n.length),r.push(n[l]);case 13:c++,e.next=8;break;case 16:return d=parseInt(t.replace("Pack","")),e.next=19,Object(o.f)({cadence:'\n  import DappyContract from 0xDappy\n  import FungibleToken from 0xFungibleToken\n  import FUSD from 0xFUSD\n\n  transaction(familyID: UInt32, templateIDs: [UInt32], amount: UFix64 ) {\n    let receiverReference: &DappyContract.Collection{DappyContract.Receiver}\n    let sentVault: @FungibleToken.Vault\n\n    prepare(acct: AuthAccount) {\n      self.receiverReference = acct.borrow<&DappyContract.Collection>(from: DappyContract.CollectionStoragePath) \n          ?? panic("Cannot borrow")\n      let vaultRef = acct.borrow<&FUSD.Vault>(from: /storage/fusdVault) ?? panic("Could not borrow FUSD vault")\n      self.sentVault <- vaultRef.withdraw(amount: amount)\n    }\n\n    execute {\n      let collection <- DappyContract.batchMintDappiesFromFamily(familyID: familyID, templateIDs: templateIDs, paymentVault: <-self.sentVault)\n      self.receiverReference.batchDeposit(collection: <-collection)\n    }\n  }\n',limit:300,args:function(e,t){return[e(d,t.UInt32),e(r,t.Array(t.UInt32)),e(a,t.UFix64)]}});case 19:return j=e.sent,m(j),e.next=23,Object(o.i)(j).onceSealed();case 23:return e.next=25,u();case 25:s(r);case 26:case"end":return e.stop()}}),e)})));return function(t,n,a){return e.apply(this,arguments)}}();return Object(j.a)(Object(j.a)({},n),{},{fetchDappiesOfPack:O,fetchPackDetails:v,mintFromPack:x})}n(1591);function re(e){var t=e.outline;return Object(v.jsxs)(v.Fragment,{children:[Object(v.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M530 270.828C530 124.577 411.357 6.01685 265.003 6.01685C118.643 6.01685 0 124.577 0 270.828V409.23C0 474.092 53.1101 527.165 118.023 527.165H411.983C476.89 527.165 530 474.092 530 409.23V270.828Z",fill:t}),Object(v.jsx)("mask",{id:"mask0","mask-type":"alpha",maskUnits:"userSpaceOnUse",x:"39",y:"55",width:"455",height:"446",children:Object(v.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M493.04 282.859C493.04 242.218 481.083 84.4307 328.083 60.5287C192.129 39.2851 79.4516 82.0429 50.768 218.31C22.0783 354.577 48.3742 481.28 148.782 493.238C249.196 505.189 277.88 500.407 383.069 495.625C488.258 490.844 493.04 323.499 493.04 282.859Z",fill:"#FF5A9D"})})]})}function ce(e){var t=e.color,n=e.outline,a=e.reflection;return Object(v.jsxs)(v.Fragment,{children:[Object(v.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M360.968 167C316.238 167 278.111 195.299 263.52 234.972C248.928 195.299 210.802 167 166.065 167C108.734 167 62.2588 213.475 62.2588 270.807C62.2588 328.138 108.734 374.613 166.065 374.613C210.802 374.613 248.928 346.314 263.52 306.642C278.111 346.314 316.238 374.613 360.968 374.613C418.299 374.613 464.774 328.138 464.774 270.807C464.774 213.475 418.299 167 360.968 167Z",fill:n}),Object(v.jsx)("path",{d:"M130.708 210C106.104 210 91 231.473 91 249.08C91 287.156 134.377 322.505 165 345C195.623 322.497 239 287.156 239 249.08C239 231.471 223.903 210 199.292 210C185.549 210 173.804 220.934 165 231.315C156.188 220.933 144.452 210 130.708 210Z",fill:t}),Object(v.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M247.719 229.838C247.719 246.294 234.379 259.629 217.929 259.629C201.473 259.629 188.139 246.294 188.139 229.838C188.139 213.388 201.473 200.048 217.929 200.048C234.379 200.048 247.719 213.388 247.719 229.838Z",fill:a}),Object(v.jsx)("path",{d:"M324.708 204C300.104 204 285 225.474 285 243.081C285 281.157 328.377 316.506 359 339.001C389.623 316.498 433 281.157 433 243.081C433 225.472 417.903 204 393.292 204C379.549 204 367.804 214.935 359 225.316C350.188 214.934 338.452 204 324.708 204Z",fill:t}),Object(v.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M441.719 223.839C441.719 240.295 428.379 253.63 411.929 253.63C395.473 253.63 382.139 240.295 382.139 223.839C382.139 207.389 395.473 194.049 411.929 194.049C428.379 194.049 441.719 207.389 441.719 223.839Z",fill:a})]})}function ie(e){var t=e.stripes;return 3===t.length?Object(v.jsxs)("g",{mask:"url(#mask0)",children:[Object(v.jsx)("rect",{x:"309.319",y:"-350.467",width:"148.78",height:"1786.53",transform:"rotate(25.3087 309.319 -350.467)",fill:t[0]}),Object(v.jsx)("rect",{x:"467.605",y:"-345.085",width:"161.656",height:"1941.13",transform:"rotate(25.3087 467.605 -345.085)",fill:t[1]}),Object(v.jsx)("rect",{x:"666.441",y:"-387.71",width:"179.817",height:"2159.21",transform:"rotate(25.3087 666.441 -387.71)",fill:t[2]})]}):4===t.length?Object(v.jsxs)("g",{mask:"url(#mask0)",children:[Object(v.jsx)("rect",{x:"309.319",y:"-350.467",width:"148.78",height:"1786.53",transform:"rotate(25.3087 309.319 -350.467)",fill:t[0]}),Object(v.jsx)("rect",{x:"467.605",y:"-345.085",width:"161.656",height:"1941.13",transform:"rotate(25.3087 467.605 -345.085)",fill:t[1]}),Object(v.jsx)("rect",{x:"666.441",y:"-387.71",width:"179.817",height:"2159.21",transform:"rotate(25.3087 666.441 -387.71)",fill:t[2]}),Object(v.jsx)("rect",{x:"400.332",y:"136.769",width:"97.3483",height:"1168.94",transform:"rotate(25.3087 617.332 136.769)",fill:t[3]})]}):5===t.length?Object(v.jsxs)("g",{mask:"url(#mask0)",children:[Object(v.jsx)("rect",{x:"177.809",y:"-71.1125",width:"97.0772",height:"1165.69",transform:"rotate(25.3087 177.809 -71.1125)",fill:t[0]}),Object(v.jsx)("rect",{x:"265.568",y:"-29.6123",width:"97.0772",height:"1165.69",transform:"rotate(25.3087 265.568 -29.6123)",fill:t[1]}),Object(v.jsx)("rect",{x:"353.327",y:"11.8875",width:"97.0772",height:"1165.69",transform:"rotate(25.3087 353.327 11.8875)",fill:t[2]}),Object(v.jsx)("rect",{x:"441.086",y:"53.3879",width:"97.0772",height:"1165.69",transform:"rotate(25.3087 441.086 53.3879)",fill:t[3]}),Object(v.jsx)("rect",{x:"528.846",y:"94.8882",width:"97.0772",height:"1165.69",transform:"rotate(25.3087 528.846 94.8882)",fill:t[4]})]}):null}function oe(e){var t=e.dna,n=void 0===t?"FF5A9D.FFE922.60C5E5.0":t;return Object(v.jsxs)("svg",{className:"wiggling",width:"130",height:"130",viewBox:"0 0 530 530",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[Object(v.jsx)(re,{outline:"white"}),Object(v.jsx)(ie,{stripes:Y(n)}),Object(v.jsx)(ce,{color:J(n),reflection:"white",outline:"white"})]})}n(1599);function le(e){var t=e.dappy,n=e.store,a=e.designer,r=te(),c=r.userDappies,i=r.mintDappy,o=Object(s.f)(),l=t.id,u=t.dna,p=t.image,d=t.name,j=t.rarity,b=t.price,f=t.type,h=t.serialNumber,m=c.some((function(e){return(null===e||void 0===e?void 0:e.id)===(null===t||void 0===t?void 0:t.id)})),O=function(){return Object(v.jsxs)("div",{onClick:function(){return i(l,b)},className:"btn btn-bordered btn-light btn-dappy",children:[Object(v.jsx)("i",{className:"ri-shopping-cart-fill btn-icon"})," ",parseInt(b)," FUSD"]})},x=function(){return Object(v.jsx)("div",{onClick:function(){return o.push("/packs/".concat(l))},className:"btn btn-bordered btn-light btn-dappy",children:"More"})},g=function(){return Object(v.jsxs)("div",{onClick:function(){return alert("".concat(u," ").concat(d))},className:"btn btn-bordered btn-light btn-dappy",children:[Object(v.jsx)("i",{className:"ri-shopping-cart-fill btn-icon"})," ",parseInt(b)," FUSD"]})};return Object(v.jsxs)("div",{className:"dappy-card__border",children:[Object(v.jsxs)("div",{className:"dappy-card__wrapper ".concat(m&&n&&"faded"),children:["Dappy"===f?Object(v.jsx)(oe,{dna:u}):Object(v.jsx)("img",{className:"dappy-card__image ".concat("Pack"===f&&"img-large"),src:p,alt:"Pack"}),Object(v.jsx)("br",{}),Object(v.jsx)("h3",{className:"dappy-card__title",children:d}),a?Object(v.jsx)("input",{className:"dappy-card__info",value:u}):Object(v.jsxs)("p",{className:"dappy-card__info",children:["# ",l," ",m&&!n&&" / ".concat(h)]}),Object(v.jsx)("p",{className:"dappy-card__info",children:j})]}),a?Object(v.jsx)(g,{}):Object(v.jsxs)(v.Fragment,{children:[!m&&"Dappy"===f&&Object(v.jsx)(O,{}),!m&&"Pack"===f&&Object(v.jsx)(x,{})]}),n&&m&&!a&&Object(v.jsx)("div",{className:"collected",children:"Collected"})]})}n(1600);function se(e){var t=e.dappies,n=e.store,a=e.designer;return Object(v.jsx)("div",{className:"dappy-list__wrapper",children:t.map((function(e,t){return Object(v.jsx)(le,{dappy:e,store:n,designer:a},t)}))})}function ue(e){var t=e.children,n=e.loading,a=e.error;return n?Object(v.jsx)(O,{}):a?"Error":t}n(1601);n(1602);var pe=[{name:"Home",path:"/",component:function(){var e=Object(s.f)();return Object(v.jsxs)(v.Fragment,{children:[Object(v.jsx)(K,{title:Object(v.jsxs)(v.Fragment,{children:[Object(v.jsx)("span",{className:"highlight",children:"Crypto"}),"Dappy"]}),subtitle:Object(v.jsxs)(v.Fragment,{children:["The brand new ",Object(v.jsx)("span",{className:"highlight",children:"collectible game"})," on the blockchain"]})}),Object(v.jsx)("img",{className:"header-image",alt:"Header",onClick:function(){return e.push("/packs")},src:"".concat("","/assets/PackDrops.png")})]})},nav:!0},{name:"Dappies",path:"/dappies",component:function(){var e=function(){var e=Object(a.useReducer)(b,{loading:!1,error:!1,data:[]}),t=Object(l.a)(e,2),n=t[0],r=t[1];return Object(a.useEffect)((function(){!function(){var e=Object(d.a)(p.a.mark((function e(){var t,n;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r({type:"PROCESSING"}),e.prev=1,e.next=4,Object(o.g)({cadence:"\n  import DappyContract from 0xDappy\n\n  pub fun main(): {UInt32: DappyContract.Template} {\n    return DappyContract.listTemplates()\n  }\n"});case 4:t=e.sent,n=Object.values(t).map((function(e){return new L(null===e||void 0===e?void 0:e.templateID,null===e||void 0===e?void 0:e.dna,null===e||void 0===e?void 0:e.name,null===e||void 0===e?void 0:e.price)})),r({type:"SUCCESS",payload:n}),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(1),r({type:"ERROR"});case 12:case"end":return e.stop()}}),e,null,[[1,9]])})));return function(){return e.apply(this,arguments)}}()()}),[]),n}(),t=e.data,n=e.loading,r=e.error;return Object(v.jsxs)(v.Fragment,{children:[Object(v.jsx)(K,{title:Object(v.jsxs)(v.Fragment,{children:[Object(v.jsx)("span",{className:"highlight",children:"Dappy"}),"Store"]}),subtitle:Object(v.jsxs)(v.Fragment,{children:["Buy individual ",Object(v.jsx)("span",{className:"highlight",children:"dappies"})," in our store"]})}),Object(v.jsx)(ue,{loading:n,error:r,children:Object(v.jsx)(se,{dappies:t,store:!0})})]})},nav:!0},{name:"Collection",path:"/collection",component:function(){var e=te(),t=e.collection,n=e.createCollection,a=e.deleteCollection,r=e.userDappies;return Object(v.jsxs)(v.Fragment,{children:[Object(v.jsx)(K,{title:Object(v.jsxs)(v.Fragment,{children:["My",Object(v.jsx)("span",{className:"highlight",children:"Dappies"})]}),subtitle:Object(v.jsxs)(v.Fragment,{children:["Here are the ",Object(v.jsx)("span",{className:"highlight",children:"Dappies and Packs"})," you have collected"]})}),t?Object(v.jsxs)(v.Fragment,{children:[Object(v.jsx)(se,{dappies:r}),Object(v.jsx)("div",{className:"btn btn-round",onClick:function(){return a()},children:"Delete Collection"})]}):Object(v.jsx)("div",{className:"btn btn-round",onClick:function(){return n()},children:"Enable Collection"})]})},nav:!0},{name:"Packs",path:"/packs",component:function(){var e=ae(),t=e.loading,n=e.error,a=e.data;return Object(v.jsxs)(v.Fragment,{children:[Object(v.jsx)(K,{title:Object(v.jsxs)(v.Fragment,{children:[Object(v.jsx)("span",{className:"highlight",children:"Dappy"}),"Packs"]}),subtitle:Object(v.jsxs)(v.Fragment,{children:["Join the ",Object(v.jsx)("span",{className:"highlight",children:"pack drop"})," to get more dappies"]})}),Object(v.jsx)(ue,{loading:t,error:n,children:Object(v.jsx)(se,{dappies:a.map((function(e){return new ne(null===e||void 0===e?void 0:e.familyID,null===e||void 0===e?void 0:e.name)})),store:!0})})]})},nav:!0},{name:"PackDetails",path:"/packs/:packID",component:function(){var e=Object(a.useState)(null),t=Object(l.a)(e,2),n=t[0],r=t[1],c=Object(a.useState)([]),i=Object(l.a)(c,2),o=i[0],u=i[1],j=Object(s.g)().packID,b=ae(),f=b.fetchDappiesOfPack,h=b.mintFromPack,m=b.fetchPackDetails;Object(a.useEffect)((function(){x()}),[]);var x=function(){var e=Object(d.a)(p.a.mark((function e(){var t,n;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,f(parseInt(j.replace("Pack","")));case 2:return t=e.sent,u(t),e.next=6,m(parseInt(j.replace("Pack","")));case 6:n=e.sent,r(n);case 8:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return n?Object(v.jsxs)("div",{className:"packdetails__wrapper",children:[Object(v.jsx)("img",{className:"pack__img",src:"".concat("","/assets/").concat(j,".png"),alt:"Pack"}),Object(v.jsxs)("div",{className:"pack__content",children:[Object(v.jsx)("h3",{className:"app__title",children:null===n||void 0===n?void 0:n.name}),Object(v.jsxs)("div",{onClick:function(){return h(j,o,null===n||void 0===n?void 0:n.price)},className:"btn btn-bordered btn-light",style:{width:"60%",margin:"0 auto",display:"flex",justifyContent:"center"},children:[Object(v.jsx)("i",{className:"ri-shopping-cart-fill",style:{fontSize:"1.2rem",marginRight:".2rem"}})," ",parseInt(null===n||void 0===n?void 0:n.price)," FUSD"]}),Object(v.jsx)("p",{children:"Dappies included:"}),Object(v.jsx)("p",{children:o.map((function(e,t){return" #".concat(e," ")}))})]})]}):Object(v.jsx)(O,{})},nav:!1},{name:"Designer",path:"/designer",component:function(){var e=Object(a.useState)([]),t=Object(l.a)(e,2),n=t[0],r=t[1],c=Object(a.useState)(!1),i=Object(l.a)(c,2),o=i[0],s=i[1],u=Object(a.useState)(!1),p=Object(l.a)(u,2),d=p[0],j=p[1],b=Object(a.useState)(!1),f=Object(l.a)(b,2),h=f[0],m=f[1],O=Object(a.useState)(),x=Object(l.a)(O,2),g=x[0],y=x[1];Object(a.useEffect)((function(){C()}),[o,h,d,g]);var C=function(){var e=function(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,t=arguments.length>1?arguments[1]:void 0,n=[],a=t.customRarity,r=t.theme,c=t.baseColor,i=t.fullRandom,o=void 0!==i&&i,l=0;l<e;l++){console.log(l);var s=a||E[B(E.length)],u={name:"".concat(T.a.name.firstName()," Dappy"),dna:r?q(s,c,o,r):z(s),templateID:l+1};n.push(u)}return n}(12,{theme:o,customRarity:d,fullRandom:h,baseColor:g});r((function(){return e.map((function(e){var t;return new L(null===e||void 0===e?void 0:e.templateID,null===e||void 0===e?void 0:e.dna,null===e||void 0===e?void 0:e.name,Z(null===e||void 0===e||null===(t=e.dna)||void 0===t?void 0:t.length))}))}))};return Object(v.jsxs)("div",{children:[Object(v.jsx)(K,{title:Object(v.jsxs)(v.Fragment,{children:[Object(v.jsx)("span",{className:"highlight",children:"Dappy"}),"Designer"]}),subtitle:Object(v.jsxs)(v.Fragment,{children:["Design ",Object(v.jsx)("span",{className:"highlight",children:"your own"})," Dappies"]})}),Object(v.jsxs)("form",{className:"designer__form",children:[Object(v.jsxs)("div",{className:"designer__form__item",children:[Object(v.jsx)("label",{for:"theme",children:"Theme"}),Object(v.jsxs)("select",{value:o,onChange:function(e){return s(e.target.value)},name:"theme",children:[Object(v.jsx)("option",{value:!1,children:"none"}),Object(v.jsx)("option",{value:"mono",children:"mono"}),Object(v.jsx)("option",{value:"complement",children:"complement"}),Object(v.jsx)("option",{value:"split",children:"split"}),Object(v.jsx)("option",{value:"double",children:"double"}),Object(v.jsx)("option",{value:"ana",children:"ana"}),Object(v.jsx)("option",{value:"tri",children:"tri"})]})]}),Object(v.jsxs)("div",{className:"designer__form__item",children:[Object(v.jsx)("label",{for:"random",children:"Random"}),Object(v.jsxs)("select",{value:h,onChange:function(e){return m(e.target.value)},name:"random",children:[Object(v.jsx)("option",{value:!1,children:"guided"}),Object(v.jsx)("option",{value:!0,children:"random"})]})]}),Object(v.jsxs)("div",{className:"designer__form__item",children:[Object(v.jsx)("label",{for:"rarity",children:"Rarity"}),Object(v.jsxs)("select",{value:d,onChange:function(e){return j(e.target.value)},name:"rarity",children:[Object(v.jsx)("option",{value:3,children:"3"}),Object(v.jsx)("option",{value:4,children:"4"}),Object(v.jsx)("option",{value:5,children:"5"})]})]}),Object(v.jsxs)("div",{className:"designer__form__item",children:[Object(v.jsx)("label",{for:"baseColor",children:"Base Color"}),Object(v.jsxs)("select",{value:g,onChange:function(e){return y(e.target.value)},name:"baseColor",children:[Object(v.jsx)("option",{value:"",children:"None"}),Object(v.jsx)("option",{value:"red",children:"Red"}),Object(v.jsx)("option",{value:"orange",children:"Orange"}),Object(v.jsx)("option",{value:"yellow",children:"Yellow"}),Object(v.jsx)("option",{value:"green",children:"Green"}),Object(v.jsx)("option",{value:"blue",children:"Blue"}),Object(v.jsx)("option",{value:"pink",children:"Pink"})]})]}),Object(v.jsx)("button",{onClick:function(e){return function(e){e.preventDefault(),s(!1),j(!1),m(!1),y()}(e)},children:"Full Random"})]}),Object(v.jsx)(se,{dappies:n,designer:!0})]})},nav:!1}],de=pe.filter((function(e){return e.nav}));n(1603);function je(){var e=Object(a.useState)(!1),t=Object(l.a)(e,2),n=t[0],r=t[1],c=Object(s.f)(),i=function(e){var t=e.route;return Object(v.jsx)("div",{className:"navbar__item",children:Object(v.jsx)("div",{className:"btn",onClick:function(){return c.push(t.path)},children:t.name})})};return Object(v.jsxs)(v.Fragment,{children:[Object(v.jsx)("div",{className:"navbar",children:de.map((function(e){return Object(v.jsx)(i,{route:e},e.path)}))}),Object(v.jsx)("div",{className:"btn btn-bg navbar__mobile__trigger mobile_only",onClick:function(){return r((function(e){return!e}))},children:"Menu"}),n&&Object(v.jsx)("div",{className:"navbar__mobile",children:de.map((function(e){return Object(v.jsx)(i,{route:e},e.path)}))})]})}var be=n(23);function fe(e){var t=e.children;return Object(v.jsx)(be.a,{children:Object(v.jsx)(W,{children:Object(v.jsx)(y,{children:Object(v.jsx)(ee,{children:Object(v.jsx)("div",{className:"app",children:t})})})})})}function he(){return Object(v.jsx)("div",{children:"Not found"})}function me(e){var t=e.routes.map((function(e){var t=e.path,n=e.component;return Object(v.jsx)(s.a,{path:t,component:n,exact:!0},t)}));return Object(v.jsxs)(s.c,{children:[t,Object(v.jsx)(s.a,{component:he})]})}n(1604);function ve(){var e=X(),t=e.user,n=e.logOut,a=te(),r=a.balance,c=a.createFUSDVault;return Object(v.jsxs)("div",{className:"wallet__popup",children:[Object(v.jsxs)("div",{className:"wallet__item",children:["\ud83d\udc5b ",null===t||void 0===t?void 0:t.addr]}),r?Object(v.jsxs)("div",{className:"wallet__item",children:["\ud83d\udcb0 FUSD: ",r.slice(0,-6)," ",Object(v.jsx)("a",{style:{color:"white"},href:"https://youtu.be/q8vcEGe95js",children:"(Get FUSD)"})]}):Object(v.jsx)("div",{className:"btn btn-small",onClick:function(){return c()},children:"\u26a0\ufe0f Enable FUSD"}),Object(v.jsx)("div",{className:"btn btn-small",onClick:function(){return n()},children:"\ud83d\udc4b Logout"})]})}function Oe(){return Object(v.jsxs)(fe,{children:[Object(v.jsx)(ve,{}),Object(v.jsx)(je,{}),Object(v.jsx)(me,{routes:pe})]})}i.a.render(Object(v.jsx)(Oe,{}),document.getElementById("root"))},79:function(e,t){},81:function(e,t){},97:function(e,t,n){},98:function(e,t,n){}},[[1605,1,2]]]);
//# sourceMappingURL=main.31788899.chunk.js.map